# TOM v3.0 - Realtime API Test Window Configuration
# REALTIME-API PRIMÄR mit Local-Fallback für Tests

# ========== Backend-Konfiguration ==========
REALTIME_BACKEND=provider
ALLOW_EGRESS=true                  # NUR für Testfenster! danach wieder false
FALLBACK_POLICY=provider_then_local
FALLBACK_TRIGGER_MS=800
FALLBACK_ERROR_BURST=3
FALLBACK_ERROR_WINDOW=60
FALLBACK_COOLDOWN_SEC=600

# ========== Provider (OpenAI Realtime API) ==========
REALTIME_WS_URL=wss://api.openai.com/v1/realtime
REALTIME_API_KEY=sk-CHANGE_ME
REALTIME_MODEL=gpt-4o-realtime-preview-2024-10-01
REALTIME_LANGUAGE=de

# ========== Fallback (Local) ==========
PIPER_VOICE=de-DE-thorsten-high
OLLAMA_MODEL=qwen3:14b
WHISPER_MODEL=large-v3

# ========== WebSocket ==========
WS_PUBLIC_URL=wss://tom.local:7443/ws/stream
WS_HOST=0.0.0.0
WS_PORT=8081

# ========== FreeSWITCH ==========
FS_WSS_URL=wss://fs.local:7443
FS_HOST=fs.local
FS_PORT=8021
FS_PASSWORD=CHANGE_ME

# ========== Security ==========
JWT_SECRET=CHANGE_ME_SECRET_KEY
PHONE_HASH_SALT=CHANGE_ME_SALT
DEV_ALLOW_NO_JWT=false
RATE_LIMIT_MSGS_PER_SEC=120

# ========== Cost Tracking (informativ) ==========
PRICE_STT_PER_MIN=0.030
PRICE_TTS_PER_MIN=0.010
PRICE_LLM_PER_MIN=0.040

# ========== Monitoring ==========
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000

# ========== Redis ==========
REDIS_URL=redis://localhost:6379/0

# ========== Feature Flags ==========
REALTIME_STT=provider
REALTIME_LLM=provider
REALTIME_TTS=provider

# ========== Logging ==========
LOG_LEVEL=INFO
LOG_FORMAT=json

# ========== Development ==========
DEBUG=false

# ========== AFTER TEST WINDOW: SET ALLOW_EGRESS=false ==========

