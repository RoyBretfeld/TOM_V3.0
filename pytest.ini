# TOM v3.0 - Pytest Configuration (Real-Only, No Mocks)

[pytest]
# Test-Discovery
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Output-Options
addopts = 
    -ra
    --strict-markers
    --tb=short
    -v

# Marker
markers =
    unit: Pure logic tests, no I/O dependencies
    component: Requires real local services/hardware (GPU, Ollama, Piper)
    integration: Requires multiple running services (WS Gateway, ChromaDB, Redis)
    e2e: Requires FreeSWITCH + SIP + GPU + Full stack
    slow: Tests that take longer than 1 second
    real_only: Tests that only run against real components, no mocks allowed

# Test-Paths
testpaths = tests

# Minimal Python Version
minversion = 3.10

# Asyncio Configuration
asyncio_mode = auto

# Timeout (for tests)
timeout = 300
timeout_method = thread

