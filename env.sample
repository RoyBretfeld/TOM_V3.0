# TOM v3.0 - Environment Configuration Sample
# Ersetze CHANGE_ME mit tats√§chlichen Werten

# ========== Backend-Konfiguration ==========
REALTIME_BACKEND=local
ALLOW_EGRESS=false

# ========== WebSocket ==========
WS_PUBLIC_URL=wss://tom.local:7443/ws/stream
WS_HOST=0.0.0.0
WS_PORT=8081

# ========== TTS (Piper) ==========
PIPER_VOICE=de-DE-thorsten-medium
PIPER_PATH=piper
PIPER_MODEL_DIR=./data/models/piper

# ========== LLM (Ollama) ==========
OLLAMA_MODEL=qwen3:14b
OLLAMA_HOST=localhost
OLLAMA_PORT=11434

# ========== STT (WhisperX) ==========
WHISPER_MODEL=large-v3
WHISPER_LANGUAGE=de
WHISPER_DEVICE=cuda

# ========== FreeSWITCH ==========
FS_WSS_URL=wss://fs.local:7443
FS_HOST=fs.local
FS_PORT=8021
FS_PASSWORD=CHANGE_ME

# ========== TLS & Certificates ==========
TLS_CERT_PATH=./secrets/cert.pem
TLS_KEY_PATH=./secrets/key.pem
TLS_CA_PATH=./secrets/ca.pem

# ========== JWT & Security ==========
JWT_SECRET=CHANGE_ME_SECRET_KEY
JWT_PUBLIC_KEY_PATH=./secrets/jwt_pub.pem
JWT_PRIVATE_KEY_PATH=./secrets/jwt_private.pem
JWT_ALGORITHM=HS256
DEV_ALLOW_NO_JWT=false

# ========== Redis ==========
REDIS_URL=redis://redis:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379

# ========== Postgres (optional) ==========
POSTGRES_URL=postgresql://user:password@localhost:5432/tom
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=tom
POSTGRES_USER=CHANGE_ME
POSTGRES_PASSWORD=CHANGE_ME

# ========== ChromaDB ==========
CHROMA_URL=http://chroma:8000
CHROMA_HOST=chroma
CHROMA_PORT=8000

# ========== Audio Recording ==========
RECORD_AUDIO=false
RECORD_PATH=./data/recordings
RECORD_RETENTION_HOURS=24

# ========== Telefonie ==========
PHONE_HASH_SALT=CHANGE_ME_SALT
SIP_TRUNK_HOST=sip-provider.local
SIP_TRUNK_USER=CHANGE_ME
SIP_TRUNK_PASSWORD=CHANGE_ME

# ========== Monitoring ==========
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
LOKI_PORT=3100
PROMTAIL_PORT=9080

# ========== Rate Limiting ==========
RATE_LIMIT_MSGS_PER_SEC=120
RATE_LIMIT_WINDOW_SEC=1
MAX_FRAME_SIZE=65536

# ========== Performance ==========
MAX_CONCURRENT_STREAMS=10
STREAM_TIMEOUT=30
AUDIO_BUFFER_SIZE=8192

# ========== Feature Flags ==========
REALTIME_STT=local
REALTIME_LLM=local
REALTIME_TTS=local

# ========== Logging ==========
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=./logs/tom.log

# ========== Development ==========
DEV_MOCK_DELAYS=true
DEV_MOCK_DELAY_MS=50
DEBUG=false

# ========== Provider-APIs (falls ALLOW_EGRESS=true) ==========
OPENAI_API_KEY=CHANGE_ME
OPENAI_API_URL=https://api.openai.com/v1
AZURE_SPEECH_KEY=CHANGE_ME
AZURE_SPEECH_REGION=westeurope

